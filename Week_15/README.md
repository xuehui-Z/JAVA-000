## 作业
- 针对课上讲解的内容，自己动手设计一个高并发的秒杀系统，讲架构图， 设计文档等，提交到 GitHub。
- 这个作业现在只是初步认识，很多不足之处后续进行补充。

## 业务场景
从业务层面看，秒杀是一种营销手段，就是网络卖家发布一些超低价格的商品，吸引流量，博人眼球，从而达到品牌宣传、用户留存的目的。
## 秒杀系统的本质
- 业务上： 一场营销促销活动， 具有明确的活动业务特点。
- 技术上： 一种主动DDos攻击， 主动的对系统的压力测试。
## 秒杀系统的难点
- 瞬时大并发：如何在这种情况下保证数据正确，同时也能保证性能，这是个考验。
- 性能要求高：并发高的情况下保证用户体验，提高系统相应等。

## 系统要求
- 保证数据一致性
- 响应时间尽可能快
## 系统设计
- 基于上述要求，第一就是采用锁和数据同步的机制，保证数据一致性
- 为了加快响应时间，可以将先以JVM内存为基本进行处理，处理好的书记最后异步刷新数据库。
## 技术设计
- 一个极端的思路：
    - 单独配置多台服务器，将库存平均分配到每台服务器中
    - 配置网关系统，所有请求平均分配到每台服务器，当服务器的库存为0是，服务器下线，并异步处理秒杀成功的用户订单信息。
    - 当网关下没有服务器后，不允许其他请求访问。
- 这样的优势：  
这样做可以把所有处理放在JVM内存中操作，不涉及数据库IO等费时操作，秒杀活动结束后，再将秒杀的结构写入数据库。
- 这样做的不足：  
秒杀结束后数据丢失怎么办？这种完全使用JVM内存的肯定很脆弱，一旦程序OOM或者其他error，数据就没了。（不写数据库，只写Redis好像就可以解决这个问题了，后面依赖Redis的持久化机制和异步刷新数据库，达到数据保存。）